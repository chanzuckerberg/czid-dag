{
  "output_dir_s3": "s3://idseq-samples-prod/samples/71/4542/results",
  "targets": {
    "host_filter_out": ["gsnap_filter_1.fa", "gsnap_filter_2.fa", "gsnap_filter_merged.fa"],
    "gsnap_out": ["gsnap.m8", "gsnap_counts.json"],
    "rapsearch2_out": ["rapsearch2.m8", "rapsearch2_counts.json"],
    "taxon_count_out": ["web_sample.json"],
    "annotated_out": ["annotated_merged.fa","unidentified.fa"]
  },
  "steps": [
    {
      "in": ["host_filter_out"],
      "out": "gsnap_out",
      "class": "PipelineStepRunAlignmentRemotely",
      "module": "idseq_dag.steps.run_alignment_remotely",
      "additional_files": {
        "lineage_db":
          "s3://idseq-database/taxonomy/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/taxid-lineages.db",
        "accession2taxid_db": "s3://idseq-database/alignment_data/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/accession2taxid.db"
      },
      "additional_attributes": {"title": "gsnap"}
    },
    {
      "in": ["host_filter_out"],
      "out": "rapsearch2_out",
      "class": "PipelineStepRunAlignmentRemotely",
      "module": "idseq_dag.steps.run_alignment_remotely",
      "additional_files": {
        "lineage_db":
          "s3://idseq-database/taxonomy/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/taxid-lineages.db",
        "accession2taxid_db": "s3://idseq-database/alignment_data/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/accession2taxid.db"
      },
      additional_attributes": {"title": "rapsearch2"}
    },
    {
      "in": ["host_filter_out"],
      "out": "rapsearch2_out",
      "class": "PipelineStepRunAlignmentRemotely",
      "module": "idseq_dag.steps.run_alignment_remotely",
      "additional_files": {
        "lineage_db":
          "s3://idseq-database/taxonomy/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/taxid-lineages.db",
        "accession2taxid_db": "s3://idseq-database/alignment_data/2018-02-15-utc-1518652800-unixtime__2018-02-15-utc-1518652800-unixtime/accession2taxid.db"
      },
      additional_attributes": {"title": "rapsearch2"}
    },
    {
      "in": ["gsnap_out", "rapsearch_out"],
      "out": "taxon_count_out",
      "class": "PipelineStepGenerateCombinedTaxonCounts",
      "module": "idseq_dag.steps.generate_combined_taxon_counts",
      "additional_files": {},
      additional_attributes": {}
    },
    {
      "in": ["host_filter_out", "gsnap_out", "rapsearch_out"],
      "out": "annotated_out",
      "class": "PipelineStepGenerateAnnotatedFasta",
      "module": "idseq_dag.steps.generate_annotated_fasta",
      "additional_files": {},
      additional_attributes": {}
    }
  ],
  "given_targets": {
    "host_filter_out": {
      "s3_dir": "s3://idseq-samples-prod/samples/71/4542/results/2.2"
    }
  }
}
